#+options: ':nil *:t -:t ::t <:t H:3 \n:nil ^:t arch:headline
#+options: author:t broken-links:nil c:nil creator:nil
#+options: d:(not "LOGBOOK") date:nil e:t email:nil f:t inline:t num:t
#+options: p:nil pri:nil prop:nil stat:t tags:t tasks:t tex:t
#+options: timestamp:t title:t toc:t todo:t |:t
#+title: AR - Lesson 02
#+date: <2021-10-11 lun>
#+author: Alessandro Straziota
#+email: alessandrostr95@gmail.com
#+teacher: Miriam Di Ianni
#+language: it
#+select_tags: export
#+exclude_tags: noexport
#+creator: Emacs 27.1 (Org mode 9.4.6)
#+setupfile: ../../org-template/appunti.org

* Power Law
Nella [[./01.html][lezione 1]] si è visto che in un /Erdős–Rény random graph/ il numero di nodi che hanno grado esattamente $k$ decresce /esponenzialmente/ in $k$.
Per comprendere meglio il perché di questo andamento è necessario enunciare (quantomeno in maniera informale e intuitiva) il [[https://en.wikipedia.org/wiki/Central_limit_theorem][teorema del limite centrale]].

#+html: <hr>

#+begin_quote
#+attr_html: align: center
*Teorema del limite centrale*\\
    Siano $X_1, X_2, ..., X_n$ una sequenza di $n$ variabili aleatorie *indipendenti* e *identicamente distribuite*,
    con /valore atteso/ $\mu$ e /varianza/ $\sigma^2 < \infty$.
    Consideriamo la semplice media aritmetica
    \[
    \overline{X}_n \equiv \frac{ X_1 + X_2 + ... + X_n }{n}
    \]
    ovviamente con valore atteso che tende a $\mu$ per $n \rightarrow \infty$.
    Il teorema dice che
    \[
    \lim_{n \rightarrow \infty} \sqrt{n} \left( \overline{X}_n - \mu \right) = \mathcal{N}(0, \sigma^2)
    \]
    In termini più intuitivi si può interpretare questo enunciato come segue:
    la somma di /tante/ variabili aleatorie indipendenti e identicamente distribuite si distribuisce come una [[https://en.wikipedia.org/wiki/Normal_distribution][distribuzione normale]]
    intorno al valore atteso.\\
    
    #+begin_src python :exports results :results file value
      import matplotlib
      matplotlib.use('Agg')

      import matplotlib.pyplot as plt
      import numpy as np
      import scipy.stats as stats
      import math

      mu = 0
      variance = 1
      sigma = math.sqrt(variance)
      x = np.linspace(mu - 3*sigma, mu + 3*sigma, 100)
      plt.plot(x, stats.norm.pdf(x, mu, sigma))

      fname = '../../assets/lesson02-img1.png'
      plt.savefig(fname)
      return '/lesson02-img1.png'
    #+end_src
    
    
    #+caption: Esempio distribuzione Normale 
    #+attr_html: :width 60%
    [[../images/ar-lesson02-img1.png]]
    
#+end_quote

#+html: <hr>

Questo teorema è utile a comprendere il fenomeno interessato in quanto il numero di nodi di grado $k$ in un /Erdős–Rény random graph/
è proprio una *somma* di v.a. /i.i.d./[fn:1], in quanto ogni arco è aggiunto in maniera totalmente indipendete ed equamente
distribuita rispetto agli archi.\\

Nella realtà però si sono osservati fenomeni *sostanzialmente* differenti.\\
Consideriamo il grafo di informazioni del /web/: possiamo modellarlo tramite un grafo *diretto* dove ogni nodo rappresenta un pagina, ed esiste 
un arco diretto $(a,b)$ se nella pagine $a$ c'è un iper-link alla pagina $b$.\\
In uno studio fatto[fn:2] si è osservato che la frazione di nodi con /grado entrante/ $k$ decresce come $k^{-c}$ (per qualche costante $c > 0$),
e non come $k^{-k}$.\\

Una funzione che decresce in questa maniera, ovvero come l'/inverso di un polinomio/, è detta *power law*.
Un'altra definizione più formale è la seguente:

#+begin_quote
*def. Power Law:* siano le costanti $C > 0$ ed $\alpha > 1$. Una *legge di potenza* (o *power law*) è una funzione prporzionale a $C x^{-\alpha}$.
#+end_quote

Il fatto che in una rete reale (come il web) il numero di nodi di grado alto decresca decisamente *molto* più lentamente rispetto
a quanto ci si aspetta nel modello /Erdős–Rény/, implica che non è del tutto appropriato considerare l'esistenza di un arco 
/indipendente/ rispetto agli altri.

** Riconoscere una power law 
   Non è sempre scontato il riconoscere a vista una funzione power law rispetto a una funzione che decresce esponenzialmente.
   Per fare ciò è necessario considerare un grafico di tipo *log-log*, ovvero dove i /tick/[fn:3] degli assi crescono esponenzialmente.
   All'atto pratico, invece di considerare la funzione $y = f(x)$, verrà mostrata la funzione $\log{(y)} = \log{\left( f(x) \right)}$. 


    #+caption: Esempio di scala /lineare/ (a sinistra) e scala /log-log/ (a destra)
    #+attr_html: :width 60%
    [[../images/ar-lesson02-img2.png]]

    Come si può notare nell'immagine precedente, è difficile stabilire ad occhio quale delle due funzioni è power law.
    Invece, con la scala /log-log/, la funzione power law assume un andamento lineare.
    Questo perché $\log{(y)} \approx -c \log{(k)}$.
       
   

* Fenomeno /rich-get-richer/
Uno dei fenomi più noti nelle reti è il cosidetto fenomeno /rich-get-richer/.
Un esempio reale che spiega questo fenomeno è il seguente:

#+begin_quote
In questo momento sto scrivendo queste note riguardo la scorsa lezione della professoressa Di Ianni.
A un certo punto ho citato il teorema del limite centrale, mettendo un hyper-link alla relativa pagina wikipedia.
Il teorema del limite centrale è un teorema che fa parte della "letteratura classica" del calcolo delle probabilità,
perciò su internet si possono trovare *milioni* di pagine che lo descrivono.
Già solo cercando col motore di ricerca di google la parola =central limit theorem= vengono riportati più di
33 milioni di pagine inerenti.
Allora perché ho scelto proprio la pagina di wikipedia, piuttosto che l'ultima delle 33 milioni indicizzate da google?
Semplice, ho puntato alla pagina che risultasse "più autorevole", ovvero quella che so essere più indicizzata rispetto
all'ultima povera pagina delle 33 milioni.
#+end_quote

Perciò, se consideriamo il grado entrante di una pagina web come il numero di hyper-link che la puntano, avremo che sulla
base del precedente ragionamento, il grado della pagina del teorema del limite centrale di wikipedia tenderà sempre di più
a crescere rispetto all'ultima pagina[fn:4] indicizzata da google.\\

Tutto questo implica che nel grafo del web l'esistenza di un arco *dipende* dall'esistenza di altri archi.\\

Un altro esempio concreto del fenomeno /rich-get-richer/ avviene nelle reti sociali di un social network:
se una persona è famosa ed ha molti follower tenderà a diventare sempre più popolare.\\

** Un modello per /rich-get-richer/
   Si vuole descrivere un modello secodno il quale la scelta di un nuovo arco da aggiungere si basa sull'esistenza degli archi già presenti,
   in modo tale che gli individui tendano a "copiare" il comportamento degli altri.
   Verrà proposto un *processo incrementale* di creazione di una rete che rispecchia le seguenti proprietà, simile alla creazione del web:
   1. i nodi vengono generati in sequenza
   2. ogni volta che viene inserito un nuovo nodo si decide quali archi inserire sulla base di quelli già presenti

*** Procedura per la generazione
    Fissata una probabilità $p \in \left[ 0,1 \right]$, vengono eseguite le seguenti operazioni in maniera sequenziale:
    1. Al tempo $t=1$ viene inserito il solo nodo $1$.
    2. Al tempo $t=2$ viene inserito il nodo $2$ e l'arco diretto $(2,1)$.
    3. Al generico passo $t = i > 2$ viene inserito il nodo $i$, scelto /u.a.r./[fn:5] un nodo $j \in \left[ i-1 \right]$ tra quelli già esistenti, e
       - con probabilità $p$ viene inserito l'arco diretto $(i,j)$
       - con probabilità $1-p$ viene inserito l'arco $(i,k)$, dove $k$ è l'estremo dell'arco $(j,k)$ (ovvero il nodo puntato da $j$)
    *n.b.* se dovesse capitare di scegliere il nodo $j=1$, esso viene considerato essere /autoreferenziato/, ovvere si considera la presenza
    dell'arco $(1,1)$ (per questioni di consistenza del processo).\\
    
    Intuitivamente questo processo genera un grafo che cattura il fenomeno /rich-get-richer/, è molto più probabile che un nuovo arco inserito
    punti a un nodo con grado entrante alto.

[da completare ...]

#+html: <hr>
[fn:1] /i.i.d./ sta per /indipendenti e identicamente distribuite/.
[fn:2] [Broder et al., 2000]
[fn:3] per /tick/ si intende gli indici del grafico che vengono segnati sugli assi.
Generalmente si è abituati a vedere dei tick che crescono in maniera lineare $[0, 1, 2, ...]$, però spesso
è necessario visualizzare l'asse secodno una scala differete, per esempio che cresce in maniera quadratica $[0, 1, 4, 9, 16, ...]$.
[fn:4] magari quell'ultima pagina delle 33 milioni è la migliore di tutte, ma probabilmente non lo saprò mai finché non salirà
tra le prime 5 o 6 indicizzate (è difficile che io vada oltre).
[fn:5] /u.r.a./ sta per uniformemente a caso
